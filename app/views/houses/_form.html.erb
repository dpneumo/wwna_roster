<%= form_with(model: house, local: true) do |form| %>
  <% errors = Shared::ShowErrs.new(house) %>
  <% input = Shared::Inputs.new(form) %>

  <%= errors.show %>

  <%= input.row([ {attribute: :number},
                  {attribute: :street} ]) %>

  <%= input.row([ {attribute: :lat},
                  {attribute: :lng},
                  {attribute: :image_link} ]) %>

  <%= input.row([ { attribute: :status, kind: :select, 
                    collection:  House.statuses, 
                    selected: house.status || "Occupied" },
                  { attribute: :linked_lot_id, kind: :select, 
                    collection: grouped_options_for_select(House.for_select),
                    selected: house.linked_lot_id,
                    blank: true,
                    width: 3 }  ]) %>

  <%= input.row([ { attribute: :flag, kind: :checkbox, 
                    label: "Member Flag Group" },
                  { attribute: :rental, kind: :checkbox, 
                    label: "Rental Property" },
                  { attribute: :listed, kind: :checkbox, 
                    label: "For Sale" }        ]) %>

  <%= input.row([ { kind: :textarea, attribute: :note } ]) %>

  <%= render  partial: 'shared/form_submit_bs',
              locals: { form: form } %>

<% end %>
