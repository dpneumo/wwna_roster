<%= form_with(model: phone, local: true) do |form| %>
  <% errors = Shared::ShowErrs.new(phone) %>
  <% input = Shared::Inputs.new(form) %>

  <%= errors.show %>

  <%= input.row([ { attribute: :person_id, kind: :select,
                    collection: Person.select_list,
                    selected: phone.person_id,
                    disabled: phone.person_id },
                  { attribute: :person_id, kind: :hidden,
                    value: phone.person_id } ]) %>

  <%= input.row([ { attribute: :cc, label: 'Country Code' } ]) %>

  <%= input.row([ { attribute: :area, label: 'Area Code' },
                  { attribute: :prefix },
                  { attribute: :number } ]) %>

  <%= input.row([ { attribute: :phone_type, kind: :select,
                    label: 'Phone Type',
                    collection: Phone.types,
                    selected: phone.phone_type,
                    blank: false },
                  { attribute: :txt_capable, kind: :select,
                    label: 'Message Capable',
                    collection: [['Yes',true],['No',false]],
                    selected: phone.txt_capable,
                    blank: false },
                  { attribute: :preferred, kind: :select,
                    collection: [['Yes',true],['No',false]],
                    selected: phone.preferred,
                    blank: false } ]) %>

  <%= input.row([ { attribute: :note, kind: :textarea } ]) %>

  <%= render  partial: 'shared/form_submit_bs',
              locals: { form: form } %>

<% end %>
